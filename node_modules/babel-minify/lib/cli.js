#!/usr/bin/env node
'use strict';

var _yargs = require('./yargs');

var _yargs2 = _interopRequireDefault(_yargs);

var _parseArgv = require('./parse-argv');

var _tasks = require('./tasks');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function run(argvRaw, opts) {
  const argv = (0, _yargs2.default)(argvRaw);
  (0, _parseArgv.parseArgv)(argv, opts);
  (0, _tasks.runTasks)(argv, opts);
}

module.exports = run;

// I don't know why I'm doing this
if (require.main === module) {
  run(process.argv.slice(2), {
    logger: console
  });
}